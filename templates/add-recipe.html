{% extends 'base.html' %} 
{% block content %}
<h3>Add a Recipe</h3>
<div class="row">
    <form action="{{ url_for('insert_recipe') }}" method="POST" class="col s12" enctype="multipart/form-data">
      <div class="row">
        <div class="file-field input-field col s6">
          <div class="btn waves-effect waves-light">
            <span>Image</span>
                <input type="file" name="file" id="file">
          </div>
          <div class="file-path-wrapper">
            <input id="update_val" type="text" class="file-path validate" placeholder="Upload an image">
          </div>
        </div>
        <div class="input-field col s6">
          <input id="recipe_name" name="name" type="text" placeholder="Title" class="validate" required>
          <label for="recipe_name">Recipe Name</label>
        </div>
        <div class="input-field col s12">
          <textarea id="description" name="description" class="materialize-textarea" placeholder="Add a short description"></textarea>
          <label for="description">Description</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <textarea id="author" name="author" class="materialize-textarea" placeholder="By"></textarea>
          <label for="author">Author</label>
        </div>
      </div>
      <div class="row">
        <div class="col s12">
          <label for="category">Category</label>
          <div class="input-field col s12">
              {% for cat in categories %}
              <p>
                <label for={{cat.category_type}}>
                  <input type="radio" name="{{cat.category_type}}" id={{cat.category_type}} /> <!-- I need an id per category type -->
                    <span>{{cat.category_type}}</span>
                </label>
               </p>
              {% endfor %}
          </div>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12 m3 l3">
          <select id="cuisines" name="cuisine">
            <option value="" disabled selected>Choose a cuisine</option>
            {% for cui in cuisines %}
                <option value="{{cui.cuisine}}">{{cui.cuisine}}</option>
            {% endfor %}
          </select>
          <label>Cuisines</label>
        </div>
        <div class="input-field col s12 m3 l3">
          <input id="serves" name="serves" type="number" min="1" class="validate" placeholder="For how many?">
          <label for="serves">Serves</label>
        </div>
        <div class="input-field col s12 m3 l3">
          <input id="readyIn" name="readyIn" type="text" class="validate" placeholder="Time estimated">
          <label for="readyIn">Ready In</label>
        </div>
        <div class="input-field col s12 m3 l3">
          <select id="difficulty" name="mode">
            <option value="" disabled selected>Choose a mode</option>
            {% for dif in difficulty %}
                <option value="{{dif.mode}}">{{dif.mode}}</option>
            {% endfor %}
          </select>
          <label>Difficulty</label>
        </div>
      </div>
    <div class="row">
      <div class="col s12">
        <!-- ingredients -->
        <label for="ingredient">Ingredients</label>
        <input type="text" name="ingredient" class="validate" placeholder="Ingredient 1" required/>
        <input type="text" name="ingredient" class="validate" placeholder="Ingredient 2" required/>
        <input type="text" name="ingredient" class="validate" placeholder="Ingredient 3" required/>
        <input type="text" name="ingredient" class="validate" placeholder="Ingredient 4" required/>
        <input type="text" name="ingredient" class="validate" placeholder="Ingredient 5" required/>
        <a class="btn-floating"><i class="material-icons">add</i></a>
        <a class="btn-floating"><i class="material-icons">remove</i></a>
      </div>
  </div>
    <div class="row">
      <div class="input-field col s12">
        <textarea id="instructions" name="instructions" class="materialize-textarea" required></textarea>
        <label for="instructions">Instructions</label>
      </div>
    </div>
 <div class="row">
    <div class="input-field col s12">
      <textarea id="tips" name="tips" class="materialize-textarea"></textarea>
      <label for="tips">Tips</label>
    </div>
  </div>
  <div class="row">
    <div class="col s12 m6 offset-l2 offset-l2 l4">
      <button class = "btn waves-effect waves-light red" type = "submit" >Cancel
        <i class = "material-icons right">cancel</i>
      </button>
    </div>
    <div class="col s12 m6 l4">
      <button class="btn waves-effect waves-light" type="submit" name="action">Add
        <i class="material-icons right">add</i>
      </button>    
    </div>
  </div>

  </form>
{% endblock %}
